
cmake_minimum_required(VERSION 2.8.7)

project(MinimalICUCollation)

set(CMAKE_CXX_STANDARD 11)
set(CMAKE_CXX_STANDARD_REQUIRED ON)
set(CMAKE_CXX_EXTENSIONS OFF)

add_definitions(-DU_COMMON_IMPLEMENTATION -DU_STATIC_IMPLEMENTATION -DUCONFIG_NO_BREAK_ITERATION=1 -DUCONFIG_NO_IDNA=1 -DUCONFIG_NO_CONVERSION=1 -DUCONFIG_NO_TRANSLITERATION=1 -DUCONFIG_NO_REGULAR_EXPRESSIONS=1 -DUCONFIG_NO_SERVICE=1)

option(FORCE_COLORED_OUTPUT
       "Always produce ANSI-colored output (GNU/Clang only)." FALSE)
if(${FORCE_COLORED_OUTPUT})
  if("${CMAKE_CXX_COMPILER_ID}" STREQUAL "GNU")
    add_compile_options(-fdiagnostics-color=always)
  elseif("${CMAKE_CXX_COMPILER_ID}" STREQUAL "Clang")
    add_compile_options(-fcolor-diagnostics)
  endif()
endif()

include_directories(common)
include_directories(i18n)

add_library(minimal_icu_collation STATIC i18n/ucln_in.cpp stubdata/stubdata.cpp common/uniset.cpp common/dictbe.cpp common/chariter.cpp common/utf_impl.cpp common/uhash.cpp common/ushape.cpp common/ucnvsel.cpp common/uarrsort.cpp common/ucnv_set.cpp common/uniset_props.cpp common/caniter.cpp common/ubidiwrt.cpp common/ucnvscsu.cpp common/cstr.cpp common/wintz.cpp common/ubiditransform.cpp common/dictionarydata.cpp common/loclikelysubtags.cpp common/stringtriebuilder.cpp common/util.cpp common/cstring.cpp common/localeprioritylist.cpp common/uinit.cpp common/ucharstrieiterator.cpp common/unisetspan.cpp common/icuplug.cpp common/ucnv_ext.cpp common/servnotf.cpp common/locid.cpp common/ustr_cnv.cpp common/unames.cpp common/filterednormalizer2.cpp common/loclikely.cpp common/uscript_props.cpp common/bytestrieiterator.cpp common/propsvec.cpp common/ucnv_u32.cpp common/punycode.cpp common/ubidiln.cpp common/putil.cpp common/bytestrie.cpp common/resource.cpp common/uvector.cpp common/ucase.cpp common/rbbi.cpp common/locutil.cpp common/servls.cpp common/ucnvdisp.cpp common/ucnv_err.cpp common/unistr_titlecase_brkiter.cpp common/uloc_tag.cpp common/icudataver.cpp common/uenum.cpp common/rbbisetb.cpp common/filteredbrk.cpp common/ubrk.cpp common/ucnv_bld.cpp common/brkeng.cpp common/charstr.cpp common/uloc_keytype.cpp common/ucnv_ct.cpp common/bytestriebuilder.cpp common/ubidi.cpp common/ucnv_u8.cpp common/locdispnames.cpp common/ucnv_cb.cpp common/ustr_titlecase_brkiter.cpp common/locdistance.cpp common/static_unicode_sets.cpp common/bmpset.cpp common/uniset_closure.cpp common/locdspnm.cpp common/bytesinkutil.cpp common/rbbi_cache.cpp common/ucharstriebuilder.cpp common/utrie2.cpp common/unifiedcache.cpp common/servlkf.cpp common/schriter.cpp common/locbased.cpp common/udatamem.cpp common/umutablecptrie.cpp common/patternprops.cpp common/localebuilder.cpp common/unistr_props.cpp common/ucnv.cpp common/stringpiece.cpp common/ulist.cpp common/ustrtrns.cpp common/uiter.cpp common/cmemory.cpp common/resbund_cnv.cpp common/uvectr64.cpp common/unistr_case.cpp common/ustr_wcs.cpp common/ucnvlat1.cpp common/simpleformatter.cpp common/uts46.cpp common/ucnvmbcs.cpp common/locresdata.cpp common/pluralmap.cpp common/uprops.cpp common/usetiter.cpp common/propname.cpp common/rbbistbl.cpp common/ucat.cpp common/unifilt.cpp common/utrie_swap.cpp common/uresdata.cpp common/umapfile.cpp common/messagepattern.cpp common/locavailable.cpp common/ustrcase.cpp common/cwchar.cpp common/rbbiscan.cpp common/umath.cpp common/uset.cpp common/ucln_cmn.cpp common/ures_cnv.cpp common/normlzr.cpp common/ucmndata.cpp common/servlk.cpp common/edits.cpp common/ucnvbocu.cpp common/ustrfmt.cpp common/parsepos.cpp common/loadednormalizer2impl.cpp common/udata.cpp common/errorcode.cpp common/uchriter.cpp common/ucnv_lmb.cpp common/ucurr.cpp common/udataswp.cpp common/restrace.cpp common/ustrcase_locale.cpp common/localematcher.cpp common/unistr.cpp common/ucnvhz.cpp common/normalizer2.cpp common/sharedobject.cpp common/resbund.cpp common/uhash_us.cpp common/serv.cpp common/utrie.cpp common/umutex.cpp common/unorm.cpp common/uidna.cpp common/servrbf.cpp common/ucnv_u7.cpp common/ruleiter.cpp common/uset_props.cpp common/appendable.cpp common/lsr.cpp common/utypes.cpp common/ucasemap.cpp common/usc_impl.cpp common/uresbund.cpp common/rbbidata.cpp common/unormcmp.cpp common/ucptrie.cpp common/ubidi_props.cpp common/uchar.cpp common/normalizer2impl.cpp common/ucnvisci.cpp common/unistr_cnv.cpp common/rbbirb.cpp common/unifunct.cpp common/characterproperties.cpp common/ustack.cpp common/uinvchar.cpp common/ucasemap_titlecase_brkiter.cpp common/bytestream.cpp common/ustring.cpp common/usprep.cpp common/servslkf.cpp common/rbbitblb.cpp common/ucnv_u16.cpp common/util_props.cpp common/uloc.cpp common/ustrenum.cpp common/ucnv_io.cpp common/unistr_case_locale.cpp common/uobject.cpp common/ucnv_cnv.cpp common/ucnv2022.cpp common/ucol_swp.cpp common/dtintrv.cpp common/rbbinode.cpp common/ucharstrie.cpp common/uscript.cpp common/utext.cpp common/locmap.cpp common/utrie2_builder.cpp common/uvectr32.cpp common/utrace.cpp common/brkiter.cpp i18n/japancal.cpp i18n/tmunit.cpp i18n/decimfmt.cpp i18n/taiwncal.cpp i18n/formattedval_iterimpl.cpp i18n/number_rounding.cpp i18n/collationweights.cpp i18n/smpdtfst.cpp i18n/collationruleparser.cpp i18n/decNumber.cpp i18n/fmtable_cnv.cpp i18n/collation.cpp i18n/number_patternmodifier.cpp i18n/collationsets.cpp i18n/number_decimalquantity.cpp i18n/number_asformat.cpp i18n/numrange_impl.cpp i18n/usearch.cpp i18n/ucoleitr.cpp i18n/double-conversion-fast-dtoa.cpp i18n/number_decimfmtprops.cpp i18n/number_scientific.cpp i18n/measure.cpp i18n/persncal.cpp i18n/ztrans.cpp i18n/dtfmtsym.cpp i18n/collationdatawriter.cpp i18n/formatted_string_builder.cpp i18n/coleitr.cpp i18n/uitercollationiterator.cpp i18n/tznames.cpp i18n/collationfcd.cpp i18n/tzrule.cpp i18n/gender.cpp i18n/number_formatimpl.cpp i18n/msgfmt.cpp i18n/scientificnumberformatter.cpp i18n/sortkey.cpp i18n/alphaindex.cpp i18n/collationkeys.cpp i18n/number_affixutils.cpp i18n/collationfastlatin.cpp i18n/choicfmt.cpp i18n/gregocal.cpp i18n/unumsys.cpp i18n/numparse_parsednumber.cpp i18n/format.cpp i18n/utf16collationiterator.cpp i18n/nfrs.cpp i18n/numparse_symbols.cpp i18n/umsg.cpp i18n/gregoimp.cpp i18n/dtitvfmt.cpp i18n/collationsettings.cpp i18n/number_fluent.cpp i18n/translit.cpp i18n/plurfmt.cpp i18n/dtitvinf.cpp i18n/upluralrules.cpp i18n/collationdatareader.cpp i18n/dtptngen.cpp i18n/number_padding.cpp i18n/fmtable.cpp i18n/chnsecal.cpp i18n/dtrule.cpp i18n/collationbuilder.cpp i18n/number_grouping.cpp i18n/standardplural.cpp i18n/ethpccal.cpp i18n/olsontz.cpp i18n/collationtailoring.cpp i18n/collationfastlatinbuilder.cpp i18n/astro.cpp i18n/numfmt.cpp i18n/udatpg.cpp i18n/numparse_validators.cpp i18n/ucal.cpp i18n/double-conversion-cached-powers.cpp i18n/timezone.cpp i18n/bocsu.cpp i18n/erarules.cpp i18n/currpinf.cpp i18n/number_notation.cpp i18n/windtfmt.cpp i18n/calendar.cpp i18n/number_multiplier.cpp i18n/smpdtfmt.cpp i18n/ulistformatter.cpp i18n/uregion.cpp i18n/number_compact.cpp i18n/rulebasedcollator.cpp i18n/number_longnames.cpp i18n/stsearch.cpp i18n/zrule.cpp i18n/coll.cpp i18n/numrange_fluent.cpp i18n/quantityformatter.cpp i18n/selfmt.cpp i18n/collationrootelements.cpp i18n/double-conversion-strtod.cpp i18n/numparse_decimal.cpp i18n/nounit.cpp i18n/cecal.cpp i18n/double-conversion-double-to-string.cpp i18n/nfsubs.cpp i18n/numparse_affixes.cpp i18n/vzone.cpp i18n/numsys.cpp i18n/dcfmtsym.cpp i18n/number_currencysymbols.cpp i18n/collationiterator.cpp i18n/fphdlimp.cpp i18n/hebrwcal.cpp i18n/search.cpp i18n/zonemeta.cpp i18n/reldtfmt.cpp i18n/number_output.cpp i18n/double-conversion-bignum-dtoa.cpp i18n/ufieldpositer.cpp i18n/winnmfmt.cpp i18n/utf8collationiterator.cpp i18n/collationdata.cpp i18n/ucol_sit.cpp i18n/islamcal.cpp i18n/numparse_scientific.cpp i18n/dangical.cpp i18n/formattedvalue.cpp i18n/currfmt.cpp i18n/tmutfmt.cpp i18n/number_skeletons.cpp i18n/ucol.cpp i18n/currunit.cpp i18n/collationroot.cpp i18n/number_integerwidth.cpp i18n/decContext.cpp i18n/number_utils.cpp i18n/double-conversion-bignum.cpp i18n/number_capi.cpp i18n/tzfmt.cpp i18n/measfmt.cpp i18n/tmutamt.cpp i18n/coptccal.cpp i18n/wintzimpl.cpp i18n/indiancal.cpp i18n/number_mapper.cpp i18n/basictz.cpp i18n/region.cpp i18n/number_modifiers.cpp i18n/rbnf.cpp i18n/ucol_res.cpp i18n/plurrule.cpp i18n/double-conversion-string-to-double.cpp i18n/string_segment.cpp i18n/simpletz.cpp i18n/formattedval_sbimpl.cpp i18n/compactdecimalformat.cpp i18n/tznames_impl.cpp i18n/numparse_currency.cpp i18n/fpositer.cpp i18n/nfrule.cpp i18n/numparse_compositions.cpp i18n/utmscale.cpp i18n/listformatter.cpp i18n/curramt.cpp i18n/measunit.cpp i18n/buddhcal.cpp i18n/udateintervalformat.cpp i18n/tzgnames.cpp i18n/datefmt.cpp i18n/reldatefmt.cpp i18n/vtzone.cpp i18n/tztrans.cpp i18n/collationdatabuilder.cpp i18n/collationcompare.cpp i18n/number_patternstring.cpp i18n/udat.cpp i18n/numparse_impl.cpp i18n/unum.cpp i18n/rbtz.cpp)
add_executable(minimal_icu_example example.cpp)
target_link_libraries(minimal_icu_example minimal_icu_collation)


